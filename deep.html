<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premier League 2026 Match Predictor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, rgba(56, 0, 60, 0.7) 0%, rgba(4, 245, 255, 0.7) 100%), url('download.jpg');
            background-size: cover;
            background-position: center;
            color: white;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .premier-logo {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #04f5ff;
        }
        
        .season-info {
            background-color: #00ff85;
            color: #003049;
            padding: 10px;
            border-radius: 5px;
            display: inline-block;
            margin-top: 10px;
            font-weight: bold;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
            align-items: start;
        }
        
        @media (max-width: 1100px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .prediction-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            grid-column: 1 / -1;
            margin-bottom: 30px;
        }
        
        @media (max-width: 1100px) {
            .prediction-wrapper {
                grid-template-columns: 1fr;
            }
        }
        
        .prediction-form, .league-table {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .section-title {
            color: #38003c;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #04f5ff;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .form-group {
            flex: 1;
            min-width: 250px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #38003c;
        }
        
        select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        select:focus {
            border-color: #04f5ff;
            outline: none;
        }
        
        .btn {
            background: linear-gradient(to right, #38003c, #6a0dad);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(56, 0, 60, 0.2);
        }
        
        .btn-predict {
            background: linear-gradient(to right, #04f5ff, #00b5b8);
            margin-right: 15px;
        }
        
        .btn-reset {
            background: linear-gradient(to right, #ff6b6b, #ee5a52);
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        .prediction-result {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            display: none;
        }
        
        .prediction-result.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .match-display {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .team {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 200px;
        }
        
        .team-logo {
            width: 80px;
            height: 80px;
            background-color: #f0f0f0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            font-size: 2.5rem;
            color: #38003c;
            border: 3px solid #04f5ff;
        }
        
        .team-name {
            font-size: 1.3rem;
            font-weight: 600;
            text-align: center;
        }
        
        .vs {
            font-size: 2rem;
            font-weight: 800;
            color: #04f5ff;
            padding: 0 20px;
        }
        
        .outcome {
            text-align: center;
            font-size: 1.8rem;
            font-weight: 800;
            margin: 25px 0;
            padding: 15px;
            border-radius: 8px;
            background: linear-gradient(135deg, #f5f5f5, #e0e0e0);
        }
        
        .win {
            color: #2ecc71;
        }
        
        .draw {
            color: #f39c12;
        }
        
        .loss {
            color: #e74c3c;
        }
        
        .prediction-details {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .prediction-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .metric {
            background-color: white;
            padding: 15px;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .metric-title {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }
        
        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #38003c;
        }
        
        .confidence-bar {
            height: 20px;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .confidence-fill {
            height: 100%;
            background: linear-gradient(to right, #04f5ff, #00b5b8);
            border-radius: 10px;
            width: 0%;
            transition: width 1s ease-in-out;
        }
        
        .recent-matches {
            margin-top: 40px;
        }
        
        .team-recent-matches {
            margin-top: 30px;
        }
        
        .team-recent-matches h3 {
            color: #38003c;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .match-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background-color: white;
            border-left: 4px solid #04f5ff;
            margin-bottom: 10px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .match-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .match-date {
            font-size: 0.85rem;
            color: #999;
            min-width: 80px;
        }
        
        .match-opponent {
            flex: 1;
            margin-left: 15px;
            font-weight: 500;
        }
        
        .match-result {
            font-weight: 700;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            min-width: 60px;
            text-align: center;
        }
        
        .match-result.win {
            background-color: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
        }
        
        .match-result.draw {
            background-color: rgba(241, 196, 15, 0.2);
            color: #f39c12;
        }
        
        .match-result.loss {
            background-color: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }
        
        .recent-matches {
            margin-top: 40px;
        }
        
        .matches-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .matches-table th {
            background-color: #38003c;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .matches-table td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .matches-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .home-win {
            color: #2ecc71;
            font-weight: 600;
        }
        
        .away-win {
            color: #e74c3c;
            font-weight: 600;
        }
        
        .draw-match {
            color: #f39c12;
            font-weight: 600;
        }
        
        /* League Table Styles */
        .table-container {
            overflow-x: auto;
        }
        
        .league-table table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .league-table th {
            background-color: #38003c;
            color: white;
            padding: 15px 10px;
            text-align: center;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .league-table td {
            padding: 12px 10px;
            border-bottom: 1px solid #e0e0e0;
            text-align: center;
            font-size: 0.9rem;
        }
        
        .league-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .league-table tr:hover {
            background-color: #f0f0f0;
        }
        
        .pos {
            font-weight: 700;
            width: 40px;
        }
        
        .team-cell {
            text-align: left;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .team-abbr {
            display: inline-block;
            width: 25px;
            text-align: center;
            font-weight: 700;
            color: #38003c;
            font-size: 0.8rem;
        }
        
        .form-indicator {
            display: flex;
            gap: 3px;
            justify-content: center;
        }
        
        .form-win {
            width: 14px;
            height: 14px;
            background-color: #2ecc71;
            border-radius: 50%;
        }
        
        .form-draw {
            width: 14px;
            height: 14px;
            background-color: #f39c12;
            border-radius: 50%;
        }
        
        .form-loss {
            width: 14px;
            height: 14px;
            background-color: #e74c3c;
            border-radius: 50%;
        }
        
        .champions-league {
            background-color: rgba(0, 255, 133, 0.1);
        }
        
        .europa-league {
            background-color: rgba(255, 165, 0, 0.1);
        }
        
        .conference-league {
            background-color: rgba(0, 150, 255, 0.1);
        }
        
        .relegation {
            background-color: rgba(255, 0, 0, 0.05);
        }
        
        .qualification-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: #38003c;
            background-color: #f0f0f0;
            padding: 2px 6px;
            border-radius: 3px;
            margin-left: 5px;
        }
        
        .upcoming-fixtures {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }
        
        .fixtures-day {
            margin-bottom: 40px;
        }
        
        .fixtures-day-header {
            font-size: 1rem;
            font-weight: 700;
            color: #38003c;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #04f5ff;
        }
        
        .fixture-item {
            display: grid;
            grid-template-columns: 1fr 1.5fr 1fr 1fr;
            gap: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 12px;
            align-items: center;
            transition: all 0.2s ease;
            border-left: 4px solid #04f5ff;
        }
        
        .fixture-item:hover {
            background-color: #f0f0f0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .fixture-teams {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }
        
        .fixture-teams .team-name {
            flex: 1;
        }
        
        .fixture-vs {
            text-align: center;
            font-size: 0.9rem;
            color: #999;
        }
        
        .fixture-prediction {
            text-align: center;
        }
        
        .prediction-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.95rem;
        }
        
        .prediction-home-win {
            background-color: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
        }
        
        .prediction-away-win {
            background-color: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }
        
        .prediction-draw {
            background-color: rgba(241, 196, 15, 0.2);
            color: #f39c12;
        }
        
        .fixture-score {
            text-align: center;
            font-weight: 700;
            font-size: 1.1rem;
            color: #38003c;
        }
        
        @media (max-width: 1200px) {
            .fixture-item {
                grid-template-columns: 1fr 1fr;
            }
            
            .fixture-prediction,
            .fixture-score {
                grid-column: 1 / -1;
            }
        }
        
        @media (max-width: 768px) {
            .fixture-item {
                grid-template-columns: 1fr;
            }
            
            .fixture-prediction,
            .fixture-score {
                grid-column: 1;
            }
            
            .upcoming-fixtures {
                padding: 20px;
            }
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid #e0e0e0;
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
            
            .match-display {
                flex-direction: column;
            }
            
            .vs {
                padding: 10px 0;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            header h1 {
                font-size: 2.2rem;
            }
            
            .league-table td, .league-table th {
                padding: 8px 5px;
                font-size: 0.8rem;
            }
            
            .team-cell {
                font-size: 0.85rem;
            }
            
            .prediction-wrapper {
                grid-template-columns: 1fr;
            }
            
            .prediction-result {
                padding: 20px;
            }
            
            .prediction-metrics {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            header h1 {
                font-size: 1.8rem;
            }
            
            header p {
                font-size: 1rem;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 1rem;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            .btn-predict, .btn-reset {
                width: 100%;
                margin: 0;
            }
            
            .prediction-metrics {
                grid-template-columns: 1fr;
            }
            
            .match-item {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .match-opponent {
                flex: 1 1 100%;
                margin-left: 0;
            }
            
            .form-group {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="premier-logo">
                <i class="fas fa-futbol"></i>
            </div>
            <h1>Premier League 2026 Match Predictor</h1>
            <p>Predict match outcomes based on the 2025/26 Premier League season performance and head-to-head statistics</p>
            <div class="season-info">2025/26 Season Data | Matchweek 25 | Updated: March 2026</div>
        </header>
        
        <div class="main-content">
            <section class="prediction-form">
                <h2 class="section-title">Match Prediction</h2>
                <p style="color: #666; margin-bottom: 20px;">Select two Premier League teams to get a prediction based on their 2025/26 season performance</p>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="home-team"><i class="fas fa-home"></i> Home Team</label>
                        <select id="home-team">
                            <option value="" disabled selected>Select home team</option>
                        </select>
                        <div class="team-recent-matches" id="home-recent-matches"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="away-team"><i class="fas fa-plane"></i> Away Team</label>
                        <select id="away-team">
                            <option value="" disabled selected>Select away team</option>
                        </select>
                        <div class="team-recent-matches" id="away-recent-matches"></div>
                    </div>
                </div>
                
                <div class="buttons">
                    <button class="btn btn-predict" id="predict-btn">
                        <i class="fas fa-chart-line"></i> Predict Match Outcome
                    </button>
                    <button class="btn btn-reset" id="reset-btn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </section>
            
            <section class="prediction-result" id="prediction-result">
                <h2 class="section-title">Prediction Analysis</h2>
                
                <div class="match-display">
                    <div class="team" id="home-team-display">
                        <div class="team-logo" id="home-logo">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="team-name" id="home-name">Home Team</div>
                    </div>
                    
                    <div class="vs">VS</div>
                    
                    <div class="team" id="away-team-display">
                        <div class="team-logo" id="away-logo">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="team-name" id="away-name">Away Team</div>
                    </div>
                </div>
                
                <div class="outcome" id="prediction-outcome">
                    <span id="outcome-text">Home Win</span>
                </div>
                
                <div class="prediction-details">
                    <p id="analysis-text">Based on recent performance and head-to-head statistics, the prediction favors the home team.</p>
                    
                    <div class="prediction-metrics">
                        <div class="metric">
                            <div class="metric-title">Confidence Level</div>
                            <div class="metric-value" id="win-probability">65%</div>
                            <div class="confidence-bar">
                                <div class="confidence-fill" id="confidence-fill"></div>
                            </div>
                        </div>
                        
                        <div class="metric">
                            <div class="metric-title">Predicted Score</div>
                            <div class="metric-value" id="predicted-score">2-1</div>
                        </div>
                        
                        <div class="metric">
                            <div class="metric-title">Form Weight</div>
                            <div class="metric-value" id="recent-form">40%</div>
                        </div>
                        
                        <div class="metric">
                            <div class="metric-title">H2H Weight</div>
                            <div class="metric-value" id="h2h-weight">20%</div>
                        </div>
                    </div>
                </div>
                
                <div class="recent-matches">
                    <h3>Recent Head-to-Head Matches</h3>
                    <table class="matches-table" id="h2h-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Match</th>
                                <th>Result</th>
                                <th>Score</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
        
        <div class="main-content">
            <section class="league-table">
                <h2 class="section-title">Premier League 2025/26 Table <span style="font-size: 0.8rem; color: #666;">(Matchweek 25)</span></h2>
                <p style="color: #666; margin-bottom: 15px;">Current standings and recent form (last 5 matches)</p>
                
                <div class="table-container">
                    <table id="pl-table">
                        <thead>
                            <tr>
                                <th class="pos">#</th>
                                <th>Team</th>
                                <th title="Matches Played">MP</th>
                                <th title="Wins">W</th>
                                <th title="Draws">D</th>
                                <th title="Losses">L</th>
                                <th title="Goals For">GF</th>
                                <th title="Goals Against">GA</th>
                                <th title="Goal Difference">GD</th>
                                <th title="Points">Pts</th>
                                <th title="Last 5 Matches">Last 5</th>
                            </tr>
                        </thead>
                        <tbody id="table-body">
                        </tbody>
                    </table>
                </div>
                <div style="margin-top: 15px; font-size: 0.9rem; color: #666; display: flex; flex-wrap: wrap; gap: 10px;">
                    <span style="display: inline-flex; align-items: center;">
                        <span class="form-win" style="margin-right: 5px;"></span> Win
                    </span>
                    <span style="display: inline-flex; align-items: center;">
                        <span class="form-draw" style="margin-right: 5px;"></span> Draw
                    </span>
                    <span style="display: inline-flex; align-items: center;">
                        <span class="form-loss" style="margin-right: 5px;"></span> Loss
                    </span>
                    <span style="display: inline-flex; align-items: center; margin-left: auto;">
                        <span style="background-color: rgba(0, 255, 133, 0.2); padding: 2px 8px; border-radius: 3px;">UCL</span> Champions League
                    </span>
                    <span style="display: inline-flex; align-items: center;">
                        <span style="background-color: rgba(255, 165, 0, 0.2); padding: 2px 8px; border-radius: 3px;">UEL</span> Europa League
                    </span>
                    <span style="display: inline-flex; align-items: center;">
                        <span style="background-color: rgba(255, 0, 0, 0.1); padding: 2px 8px; border-radius: 3px;">REL</span> Relegation
                    </span>
                </div>
            </section>
        </div>
        
        <section class="upcoming-fixtures">
            <h2 class="section-title">Upcoming Fixtures - Predictions üóìÔ∏è</h2>
            <p style="color: #666; margin-bottom: 25px;">AI-powered predictions for all upcoming Premier League matches</p>
            
            <div id="fixtures-container">
                <!-- Fixtures will be populated by JavaScript -->
            </div>
        </section>
        
        <footer>
            <p>Premier League 2026 Match Predictor &copy; 2026 | This tool uses statistical analysis based on the 2025/26 season performance and head-to-head records</p>
            <p>Note: Predictions are for informational purposes only and not guaranteed accurate. Data is simulated for the 2025/26 season.</p>
        </footer>
    </div>

    <script>
        // Complete Premier League 2025/26 season data with all 20 teams from your provided data
        const plTeams = [
            {
                name: "Arsenal",
                abbr: "ARS",
                position: 1,
                played: 25,
                wins: 17,
                draws: 5,
                losses: 3,
                goalsFor: 49,
                goalsAgainst: 17,
                goalDifference: 32,
                points: 56,
                recentForm: [0.5, 0.5, 0, 1, 1],
                homeStrength: 0.97,
                awayStrength: 0.94,
                qualification: "UEFA Champions League group stage",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Sunderland", result: "Arsenal", score: "3-0", isHome: true },
                    { date: "2026-02-01", opponent: "Leeds United", result: "Arsenal", score: "4-0", isHome: true },
                    { date: "2026-01-25", opponent: "Man United", result: "Man United", score: "2-3", isHome: false }
                ]
            },
            {
                name: "Man City",
                abbr: "MCI",
                position: 2,
                played: 25,
                wins: 15,
                draws: 5,
                losses: 5,
                goalsFor: 51,
                goalsAgainst: 24,
                goalDifference: 27,
                points: 50,
                recentForm: [0.5, 0, 1, 0.5, 1],
                homeStrength: 0.96,
                awayStrength: 0.93,
                qualification: "UEFA Champions League group stage",
                last5Matches: [
                    { date: "2026-02-08", opponent: "Liverpool", result: "Man City", score: "1-2", isHome: false },
                    { date: "2026-02-01", opponent: "Tottenham", result: "D", score: "2-2", isHome: false },
                    { date: "2026-01-24", opponent: "Wolves", result: "Man City", score: "2-0", isHome: true }
                ]
            },
            {
                name: "Aston Villa",
                abbr: "AVL",
                position: 3,
                played: 25,
                wins: 14,
                draws: 5,
                losses: 6,
                goalsFor: 36,
                goalsAgainst: 27,
                goalDifference: 9,
                points: 47,
                recentForm: [0.5, 0, 1, 0, 0.5],
                homeStrength: 0.94,
                awayStrength: 0.89,
                qualification: "UEFA Champions League group stage",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Bournemouth", result: "D", score: "1-1", isHome: false },
                    { date: "2026-02-01", opponent: "Brentford", result: "Brentford", score: "0-1", isHome: true },
                    { date: "2026-01-25", opponent: "Newcastle", result: "Aston Villa", score: "0-2", isHome: false }
                ]
            },
            {
                name: "Man United",
                abbr: "MUN",
                position: 4,
                played: 25,
                wins: 12,
                draws: 8,
                losses: 5,
                goalsFor: 46,
                goalsAgainst: 36,
                goalDifference: 10,
                points: 44,
                recentForm: [0.5, 1, 1, 1, 1],
                homeStrength: 0.92,
                awayStrength: 0.88,
                qualification: "UEFA Champions League group stage",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Tottenham", result: "Man United", score: "2-0", isHome: true },
                    { date: "2026-02-01", opponent: "Fulham", result: "Man United", score: "3-2", isHome: true },
                    { date: "2026-01-25", opponent: "Arsenal", result: "Man United", score: "2-3", isHome: false }
                ]
            },
            {
                name: "Chelsea",
                abbr: "CHE",
                position: 5,
                played: 25,
                wins: 12,
                draws: 7,
                losses: 6,
                goalsFor: 45,
                goalsAgainst: 28,
                goalDifference: 17,
                points: 43,
                recentForm: [0, 1, 1, 1, 1],
                homeStrength: 0.91,
                awayStrength: 0.87,
                qualification: "Europa League group stage",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Wolves", result: "Chelsea", score: "1-3", isHome: false },
                    { date: "2026-01-31", opponent: "West Ham", result: "Chelsea", score: "3-2", isHome: true },
                    { date: "2026-01-25", opponent: "Crystal Palace", result: "Chelsea", score: "1-3", isHome: false }
                ]
            },
            {
                name: "Liverpool",
                abbr: "LIV",
                position: 6,
                played: 25,
                wins: 11,
                draws: 6,
                losses: 8,
                goalsFor: 40,
                goalsAgainst: 35,
                goalDifference: 5,
                points: 39,
                recentForm: [0.5, 0.5, 0, 1, 0],
                homeStrength: 0.90,
                awayStrength: 0.85,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-08", opponent: "Man City", result: "Man City", score: "1-2", isHome: true },
                    { date: "2026-02-01", opponent: "Newcastle", result: "Liverpool", score: "4-1", isHome: true },
                    { date: "2026-01-24", opponent: "Bournemouth", result: "Bournemouth", score: "3-2", isHome: false }
                ]
            },
            {
                name: "Brentford",
                abbr: "BRE",
                position: 7,
                played: 25,
                wins: 12,
                draws: 3,
                losses: 10,
                goalsFor: 39,
                goalsAgainst: 34,
                goalDifference: 5,
                points: 39,
                recentForm: [1, 0, 0, 1, 1],
                homeStrength: 0.88,
                awayStrength: 0.83,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Newcastle", result: "Brentford", score: "2-3", isHome: false },
                    { date: "2026-02-01", opponent: "Aston Villa", result: "Brentford", score: "0-1", isHome: false },
                    { date: "2026-01-25", opponent: "Nottm Forest", result: "Nottm Forest", score: "0-2", isHome: true }
                ]
            },
            {
                name: "Everton",
                abbr: "EVE",
                position: 8,
                played: 25,
                wins: 10,
                draws: 7,
                losses: 8,
                goalsFor: 28,
                goalsAgainst: 28,
                goalDifference: 0,
                points: 37,
                recentForm: [0.5, 1, 0.5, 0.5, 1],
                homeStrength: 0.87,
                awayStrength: 0.82,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Fulham", result: "Everton", score: "1-2", isHome: false },
                    { date: "2026-02-01", opponent: "Brighton", result: "D", score: "1-1", isHome: false },
                    { date: "2026-01-26", opponent: "Leeds", result: "D", score: "1-1", isHome: true }
                ]
            },
            {
                name: "Sunderland",
                abbr: "SUN",
                position: 9,
                played: 25,
                wins: 9,
                draws: 9,
                losses: 7,
                goalsFor: 27,
                goalsAgainst: 29,
                goalDifference: -2,
                points: 36,
                recentForm: [0, 1, 0, 1, 0],
                homeStrength: 0.86,
                awayStrength: 0.81,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Arsenal", result: "Arsenal", score: "3-0", isHome: false },
                    { date: "2026-02-02", opponent: "Burnley", result: "Sunderland", score: "3-0", isHome: true },
                    { date: "2026-01-24", opponent: "West Ham", result: "West Ham", score: "3-1", isHome: false }
                ]
            },
            {
                name: "Fulham",
                abbr: "FUL",
                position: 10,
                played: 25,
                wins: 10,
                draws: 4,
                losses: 11,
                goalsFor: 35,
                goalsAgainst: 37,
                goalDifference: -2,
                points: 34,
                recentForm: [1, 0, 1, 0, 0],
                homeStrength: 0.85,
                awayStrength: 0.80,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Everton", result: "Everton", score: "1-2", isHome: true },
                    { date: "2026-02-01", opponent: "Man United", result: "Man United", score: "3-2", isHome: false },
                    { date: "2026-01-24", opponent: "Brighton", result: "Fulham", score: "2-1", isHome: true }
                ]
            },
            {
                name: "Bournemouth",
                abbr: "BOU",
                position: 11,
                played: 25,
                wins: 8,
                draws: 10,
                losses: 7,
                goalsFor: 41,
                goalsAgainst: 44,
                goalDifference: -3,
                points: 34,
                recentForm: [1, 0.5, 1, 1, 0.5],
                homeStrength: 0.84,
                awayStrength: 0.79,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Aston Villa", result: "D", score: "1-1", isHome: true },
                    { date: "2026-02-01", opponent: "Wolves", result: "Bournemouth", score: "0-2", isHome: false },
                    { date: "2026-01-19", opponent: "Brighton", result: "D", score: "1-1", isHome: false }
                ]
            },
            {
                name: "Newcastle",
                abbr: "NEW",
                position: 12,
                played: 25,
                wins: 9,
                draws: 6,
                losses: 10,
                goalsFor: 35,
                goalsAgainst: 36,
                goalDifference: -1,
                points: 33,
                recentForm: [1, 0.5, 0, 0, 0],
                homeStrength: 0.83,
                awayStrength: 0.78,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Brentford", result: "Brentford", score: "2-3", isHome: true },
                    { date: "2026-02-01", opponent: "Liverpool", result: "Liverpool", score: "4-1", isHome: false },
                    { date: "2026-01-25", opponent: "Aston Villa", result: "Aston Villa", score: "0-2", isHome: true }
                ]
            },
            {
                name: "Crystal Palace",
                abbr: "CRY",
                position: 13,
                played: 25,
                wins: 8,
                draws: 8,
                losses: 9,
                goalsFor: 26,
                goalsAgainst: 29,
                goalDifference: -3,
                points: 32,
                recentForm: [0.5, 0, 0, 0.5, 1],
                homeStrength: 0.82,
                awayStrength: 0.77,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-08", opponent: "Brighton", result: "Crystal Palace", score: "0-1", isHome: false },
                    { date: "2026-02-01", opponent: "Nottm Forest", result: "D", score: "1-1", isHome: false },
                    { date: "2026-01-25", opponent: "Chelsea", result: "Chelsea", score: "1-3", isHome: true }
                ]
            },
            {
                name: "Brighton",
                abbr: "BHA",
                position: 14,
                played: 25,
                wins: 7,
                draws: 10,
                losses: 8,
                goalsFor: 34,
                goalsAgainst: 33,
                goalDifference: 1,
                points: 31,
                recentForm: [0.5, 0.5, 0, 0.5, 0],
                homeStrength: 0.81,
                awayStrength: 0.76,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-08", opponent: "Crystal Palace", result: "Crystal Palace", score: "0-1", isHome: true },
                    { date: "2026-02-01", opponent: "Everton", result: "D", score: "1-1", isHome: true },
                    { date: "2026-01-19", opponent: "Bournemouth", result: "D", score: "1-1", isHome: true }
                ]
            },
            {
                name: "Tottenham",
                abbr: "TOT",
                position: 15,
                played: 25,
                wins: 7,
                draws: 8,
                losses: 10,
                goalsFor: 35,
                goalsAgainst: 35,
                goalDifference: 0,
                points: 29,
                recentForm: [0, 0, 0.5, 0.5, 0],
                homeStrength: 0.80,
                awayStrength: 0.75,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Man United", result: "Man United", score: "2-0", isHome: false },
                    { date: "2026-02-01", opponent: "Man City", result: "D", score: "2-2", isHome: true },
                    { date: "2026-01-24", opponent: "Burnley", result: "D", score: "2-2", isHome: false }
                ]
            },
            {
                name: "Leeds United",
                abbr: "LEE",
                position: 16,
                played: 25,
                wins: 7,
                draws: 8,
                losses: 10,
                goalsFor: 34,
                goalsAgainst: 43,
                goalDifference: -9,
                points: 29,
                recentForm: [0, 1, 0.5, 0, 1],
                homeStrength: 0.79,
                awayStrength: 0.74,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-06", opponent: "Nottm Forest", result: "Leeds", score: "3-1", isHome: true },
                    { date: "2026-02-01", opponent: "Arsenal", result: "Arsenal", score: "0-4", isHome: true },
                    { date: "2026-01-26", opponent: "Everton", result: "D", score: "1-1", isHome: false }
                ]
            },
            {
                name: "Nottm Forest",
                abbr: "NFO",
                position: 17,
                played: 25,
                wins: 7,
                draws: 5,
                losses: 13,
                goalsFor: 25,
                goalsAgainst: 38,
                goalDifference: -13,
                points: 26,
                recentForm: [1, 0.5, 1, 0.5, 0], // W, D, W, D, L
                homeStrength: 0.78,
                awayStrength: 0.73,
                qualification: "",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Sunderland", result: "W", score: "1-0", isHome: true },
                    { date: "2026-02-03", opponent: "West Ham", result: "D", score: "1-1", isHome: false },
                    { date: "2026-01-31", opponent: "Burnley", result: "W", score: "2-1", isHome: true },
                    { date: "2026-01-28", opponent: "Wolves", result: "D", score: "0-0", isHome: false },
                    { date: "2026-01-24", opponent: "Crystal Palace", result: "L", score: "0-2", isHome: true }
                ]
            },
            {
                name: "West Ham",
                abbr: "WHU",
                position: 18,
                played: 25,
                wins: 6,
                draws: 5,
                losses: 14,
                goalsFor: 31,
                goalsAgainst: 48,
                goalDifference: -17,
                points: 23,
                recentForm: [0, 1, 1, 0, 1],
                homeStrength: 0.77,
                awayStrength: 0.72,
                qualification: "Relegation",
                last5Matches: [
                    { date: "2026-02-07", opponent: "Burnley", result: "West Ham", score: "0-2", isHome: false },
                    { date: "2026-01-31", opponent: "Chelsea", result: "Chelsea", score: "3-2", isHome: true },
                    { date: "2026-01-24", opponent: "Sunderland", result: "West Ham", score: "3-1", isHome: true }
                ]
            },
            {
                name: "Burnley",
                abbr: "BUR",
                position: 19,
                played: 25,
                wins: 3,
                draws: 6,
                losses: 16,
                goalsFor: 25,
                goalsAgainst: 49,
                goalDifference: -24,
                points: 15,
                recentForm: [0.5, 0.5, 0.5, 0, 0],
                homeStrength: 0.76,
                awayStrength: 0.70,
                qualification: "Relegation",
                last5Matches: [
                    { date: "2026-02-07", opponent: "West Ham", result: "West Ham", score: "0-2", isHome: true },
                    { date: "2026-02-02", opponent: "Sunderland", result: "Sunderland", score: "3-0", isHome: false },
                    { date: "2026-01-24", opponent: "Tottenham", result: "D", score: "2-2", isHome: true }
                ]
            },
            {
                name: "Wolves",
                abbr: "WOL",
                position: 20,
                played: 25,
                wins: 1,
                draws: 5,
                losses: 19,
                goalsFor: 16,
                goalsAgainst: 48,
                goalDifference: -32,
                points: 8,
                recentForm: [0.5, 0.5, 0, 0, 0], // D, D, L, L, L
                homeStrength: 0.75,
                awayStrength: 0.68,
                qualification: "Relegation",
                last5Matches: [
                    { date: "2026-02-06", opponent: "Burnley", result: "D", score: "1-1", isHome: true },
                    { date: "2026-02-02", opponent: "Bournemouth", result: "D", score: "1-3", isHome: true },
                    { date: "2026-01-30", opponent: "Everton", result: "L", score: "0-0", isHome: false },
                    { date: "2026-01-27", opponent: "Nottm Forest", result: "L", score: "0-0", isHome: true },
                    { date: "2026-01-23", opponent: "West Ham", result: "L", score: "0-2", isHome: false }
                ]
            }
        ];

        // Head-to-head data for 2025/26 season matches
        const h2hData = {
            "Arsenal-Man City": [
                { date: "2025-12-06", result: "Arsenal", score: "2-1", competition: "Premier League" },
                { date: "2026-02-14", result: "Man City", score: "2-0", competition: "Premier League" },
                { date: "2025-08-23", result: "Draw", score: "1-1", competition: "Premier League" }
            ],
            "Arsenal-Chelsea": [
                { date: "2026-01-18", result: "Draw", score: "2-2", competition: "Premier League" },
                { date: "2025-10-25", result: "Chelsea", score: "1-2", competition: "Premier League" },
                { date: "2025-04-05", result: "Arsenal", score: "3-1", competition: "Premier League" }
            ],
            "Man United-Man City": [
                { date: "2026-02-28", result: "Man United", score: "2-2", competition: "Premier League" },
                { date: "2025-11-08", result: "Man City", score: "3-2", competition: "Premier League" },
                { date: "2025-08-30", result: "Draw", score: "1-1", competition: "Premier League" }
            ],
            "Liverpool-Man United": [
                { date: "2026-01-24", result: "Man United", score: "3-2", competition: "Premier League" },
                { date: "2025-10-05", result: "Liverpool", score: "2-0", competition: "Premier League" },
                { date: "2025-04-12", result: "Draw", score: "1-1", competition: "Premier League" }
            ],
            "Chelsea-Liverpool": [
                { date: "2026-03-07", result: "Chelsea", score: "2-1", competition: "Premier League" },
                { date: "2025-12-20", result: "Liverpool", score: "1-1", competition: "Premier League" },
                { date: "2025-09-13", result: "Chelsea", score: "3-2", competition: "Premier League" }
            ],
            "Tottenham-Arsenal": [
                { date: "2026-02-21", result: "Arsenal", score: "2-0", competition: "Premier League" },
                { date: "2025-11-30", result: "Tottenham", score: "1-1", competition: "Premier League" },
                { date: "2025-04-18", result: "Arsenal", score: "3-1", competition: "Premier League" }
            ],
            "Newcastle-Sunderland": [
                { date: "2026-01-10", result: "Newcastle", score: "2-1", competition: "Premier League" },
                { date: "2025-10-12", result: "Sunderland", score: "1-0", competition: "Premier League" },
                { date: "2025-03-22", result: "Draw", score: "0-0", competition: "Premier League" }
            ],
            "Everton-Liverpool": [
                { date: "2026-03-01", result: "Liverpool", score: "1-0", competition: "Premier League" },
                { date: "2025-12-05", result: "Draw", score: "2-2", competition: "Premier League" },
                { date: "2025-09-20", result: "Everton", score: "1-0", competition: "Premier League" }
            ],
            "West Ham-Chelsea": [
                { date: "2026-02-07", result: "Chelsea", score: "3-1", competition: "Premier League" },
                { date: "2025-11-15", result: "West Ham", score: "2-1", competition: "Premier League" },
                { date: "2025-04-25", result: "Chelsea", score: "2-0", competition: "Premier League" }
            ],
            "Aston Villa-Birmingham": [
                { date: "2026-01-18", result: "Aston Villa", score: "2-0", competition: "Premier League" },
                { date: "2025-10-12", result: "Draw", score: "1-1", competition: "Premier League" },
                { date: "2025-03-22", result: "Aston Villa", score: "3-1", competition: "Premier League" }
            ]
        };

        // DOM elements
        const homeTeamSelect = document.getElementById('home-team');
        const awayTeamSelect = document.getElementById('away-team');
        const predictBtn = document.getElementById('predict-btn');
        const resetBtn = document.getElementById('reset-btn');
        const predictionResult = document.getElementById('prediction-result');
        const homeNameDisplay = document.getElementById('home-name');
        const awayNameDisplay = document.getElementById('away-name');
        const outcomeText = document.getElementById('outcome-text');
        const analysisText = document.getElementById('analysis-text');
        const winProbability = document.getElementById('win-probability');
        const recentFormValue = document.getElementById('recent-form');
        const h2hWeightValue = document.getElementById('h2h-weight');
        const predictedScore = document.getElementById('predicted-score');
        const confidenceFill = document.getElementById('confidence-fill');
        const h2hTable = document.getElementById('h2h-table').getElementsByTagName('tbody')[0];
        const tableBody = document.getElementById('table-body');

        // Populate team dropdowns
        function populateTeamDropdowns() {
            // Sort teams alphabetically for dropdowns
            const sortedTeams = [...plTeams].sort((a, b) => a.name.localeCompare(b.name));
            
            sortedTeams.forEach(team => {
                const homeOption = document.createElement('option');
                homeOption.value = team.name;
                homeOption.textContent = team.name;
                homeTeamSelect.appendChild(homeOption);
                
                const awayOption = document.createElement('option');
                awayOption.value = team.name;
                awayOption.textContent = team.name;
                awayTeamSelect.appendChild(awayOption);
            });
        }

        // Populate league table
        function populateLeagueTable() {
            tableBody.innerHTML = "";
            
            plTeams.forEach(team => {
                const row = document.createElement('tr');
                
                // Add class based on position
                if (team.position <= 4) {
                    row.className = "champions-league";
                } else if (team.position === 5) {
                    row.className = "europa-league";
                } else if (team.position >= 18) {
                    row.className = "relegation";
                }
                
                // Position cell
                const posCell = document.createElement('td');
                posCell.className = "pos";
                posCell.textContent = team.position;
                row.appendChild(posCell);
                
                // Team cell
                const teamCell = document.createElement('td');
                teamCell.className = "team-cell";
                let teamHtml = `<span class="team-abbr">${team.abbr}</span> ${team.name}`;
                if (team.qualification) {
                    const qualAbbr = team.qualification.includes("Champions") ? "UCL" : 
                                   team.qualification.includes("Europa") ? "UEL" : "REL";
                    teamHtml += `<span class="qualification-label">${qualAbbr}</span>`;
                }
                teamCell.innerHTML = teamHtml;
                row.appendChild(teamCell);
                
                // Played
                const playedCell = document.createElement('td');
                playedCell.textContent = team.played;
                row.appendChild(playedCell);
                
                // Wins
                const winsCell = document.createElement('td');
                winsCell.textContent = team.wins;
                row.appendChild(winsCell);
                
                // Draws
                const drawsCell = document.createElement('td');
                drawsCell.textContent = team.draws;
                row.appendChild(drawsCell);
                
                // Losses
                const lossesCell = document.createElement('td');
                lossesCell.textContent = team.losses;
                row.appendChild(lossesCell);
                
                // Goals For
                const gfCell = document.createElement('td');
                gfCell.textContent = team.goalsFor;
                row.appendChild(gfCell);
                
                // Goals Against
                const gaCell = document.createElement('td');
                gaCell.textContent = team.goalsAgainst;
                row.appendChild(gaCell);
                
                // Goal difference
                const gdCell = document.createElement('td');
                gdCell.textContent = team.goalDifference > 0 ? `+${team.goalDifference}` : team.goalDifference;
                row.appendChild(gdCell);
                
                // Points
                const ptsCell = document.createElement('td');
                ptsCell.textContent = team.points;
                ptsCell.style.fontWeight = "700";
                row.appendChild(ptsCell);
                
                // Form cell
                const formCell = document.createElement('td');
                formCell.className = "form-indicator";
                team.recentForm.forEach(result => {
                    const formDot = document.createElement('div');
                    if (result === 1) {
                        formDot.className = "form-win";
                    } else if (result === 0.5) {
                        formDot.className = "form-draw";
                    } else {
                        formDot.className = "form-loss";
                    }
                    formCell.appendChild(formDot);
                });
                row.appendChild(formCell);
                
                tableBody.appendChild(row);
            });
        }

        // Calculate recent form score (average of last 5 matches)
        function calculateFormScore(formArray) {
            return formArray.reduce((a, b) => a + b, 0) / formArray.length;
        }

        // Get H2H data for the selected teams
        function getH2HData(homeTeam, awayTeam) {
            const key1 = `${homeTeam}-${awayTeam}`;
            const key2 = `${awayTeam}-${homeTeam}`;
            
            if (h2hData[key1]) {
                return h2hData[key1];
            } else if (h2hData[key2]) {
                // Reverse the results to show from home team perspective
                return h2hData[key2].map(match => {
                    let result = match.result;
                    if (result === homeTeam) result = awayTeam;
                    else if (result === awayTeam) result = homeTeam;
                    
                    return {
                        date: match.date,
                        result: result,
                        score: match.score.split('-').reverse().join('-'),
                        competition: match.competition
                    };
                });
            } else {
                // Generate generic H2H data if no specific data exists
                // Based on team positions and recent performance
                const homeTeamData = plTeams.find(t => t.name === homeTeam);
                const awayTeamData = plTeams.find(t => t.name === awayTeam);
                
                // Calculate win probability based on team stats
                const homeWinProb = (homeTeamData.points / (homeTeamData.played * 3)) * 0.6 + 
                                  (1 - (awayTeamData.points / (awayTeamData.played * 3))) * 0.4;
                
                // Generate 3 past matches
                const matches = [];
                const currentDate = new Date(2026, 2, 10); // March 10, 2026
                
                for (let i = 1; i <= 3; i++) {
                    const matchDate = new Date(currentDate);
                    matchDate.setMonth(currentDate.getMonth() - (i * 4));
                    
                    // Format date as YYYY-MM-DD
                    const dateStr = matchDate.toISOString().split('T')[0];
                    
                    // Determine result based on probabilities
                    let result, score;
                    const rand = Math.random();
                    
                    if (rand < homeWinProb - 0.15) {
                        result = homeTeam;
                        const homeGoals = Math.floor(Math.random() * 2) + 1;
                        const awayGoals = Math.floor(Math.random() * 2);
                        score = `${homeGoals}-${awayGoals}`;
                    } else if (rand < homeWinProb + 0.2) {
                        result = "Draw";
                        const goals = Math.floor(Math.random() * 2) + 1;
                        score = `${goals}-${goals}`;
                    } else {
                        result = awayTeam;
                        const awayGoals = Math.floor(Math.random() * 2) + 1;
                        const homeGoals = Math.floor(Math.random() * 2);
                        score = `${homeGoals}-${awayGoals}`;
                    }
                    
                    matches.push({
                        date: dateStr,
                        result: result,
                        score: score,
                        competition: "Premier League"
                    });
                }
                
                return matches;
            }
        }

        // Calculate H2H score (percentage of wins for home team)
        function calculateH2HScore(h2hMatches, homeTeam) {
            let homeWins = 0;
            let totalMatches = h2hMatches.length;
            
            h2hMatches.forEach(match => {
                if (match.result === homeTeam) homeWins++;
            });
            
            // Give some weight to draws
            const draws = h2hMatches.filter(match => match.result === "Draw").length;
            const homeScore = (homeWins + (draws * 0.5)) / totalMatches;
            
            return homeScore;
        }

        // Calculate team strength based on multiple factors
        function calculateTeamStrength(teamData) {
            // Points per game
            const ppg = teamData.points / teamData.played;
            
            // Goal difference per game
            const gdpg = teamData.goalDifference / teamData.played;
            
            // Recent form weight
            const formScore = calculateFormScore(teamData.recentForm);
            
            // Combined strength (0-1 scale)
            const strength = (ppg * 0.5) + ((gdpg + 2) / 4 * 0.3) + (formScore * 0.2);
            
            return Math.max(0.5, Math.min(0.98, strength));
        }

        // Predict match outcome
        function predictMatch() {
            const homeTeam = homeTeamSelect.value;
            const awayTeam = awayTeamSelect.value;
            
            if (!homeTeam || !awayTeam) {
                alert("Please select both home and away teams");
                return;
            }
            
            if (homeTeam === awayTeam) {
                alert("Please select two different teams");
                return;
            }
            
            // Display selected teams
            homeNameDisplay.textContent = homeTeam;
            awayNameDisplay.textContent = awayTeam;
            
            // Get team data
            const homeTeamData = plTeams.find(t => t.name === homeTeam);
            const awayTeamData = plTeams.find(t => t.name === awayTeam);
            
            if (!homeTeamData || !awayTeamData) {
                alert("Team data not found");
                return;
            }
            
            // Calculate team strengths
            const homeStrength = calculateTeamStrength(homeTeamData);
            const awayStrength = calculateTeamStrength(awayTeamData);
            
            // Calculate form scores
            const homeFormScore = calculateFormScore(homeTeamData.recentForm);
            const awayFormScore = calculateFormScore(awayTeamData.recentForm);
            
            // Get H2H data
            const h2hMatches = getH2HData(homeTeam, awayTeam);
            const h2hScore = calculateH2HScore(h2hMatches, homeTeam);
            
            // Calculate final prediction (weighted average)
            const formWeight = 0.4; // Recent form weight
            const strengthWeight = 0.4; // Overall team strength weight
            const h2hWeight = 0.2; // H2H weight
            
            // Adjust for home advantage (10% boost for home team)
            const homeAdvantage = 0.1;
            const adjustedStrengthDiff = (homeStrength - awayStrength) + homeAdvantage;
            const adjustedFormDiff = homeFormScore - awayFormScore;
            
            // Final prediction score (0 to 1 scale where >0.5 favors home team)
            const predictionScore = 0.5 + 
                (adjustedStrengthDiff * strengthWeight) + 
                (adjustedFormDiff * formWeight) + 
                ((h2hScore - 0.5) * h2hWeight);
            
            // Determine outcome
            let outcome, outcomeClass, winProb, confidence, score;
            
            if (predictionScore > 0.65) {
                outcome = `${homeTeam} Win`;
                outcomeClass = "win";
                winProb = Math.round(predictionScore * 100);
                confidence = Math.min(winProb + 10, 95);
                const homeGoals = Math.max(1, Math.round(predictionScore * 3));
                const awayGoals = Math.max(0, Math.round((1 - predictionScore) * 2));
                score = `${homeGoals}-${awayGoals}`;
            } else if (predictionScore < 0.35) {
                outcome = `${awayTeam} Win`;
                outcomeClass = "loss";
                winProb = Math.round((1 - predictionScore) * 100);
                confidence = Math.min(winProb + 10, 95);
                const awayGoals = Math.max(1, Math.round((1 - predictionScore) * 3));
                const homeGoals = Math.max(0, Math.round(predictionScore * 2));
                score = `${homeGoals}-${awayGoals}`;
            } else {
                outcome = "Draw";
                outcomeClass = "draw";
                winProb = Math.round(Math.min(predictionScore, 1 - predictionScore) * 200);
                confidence = 60;
                const goals = Math.round(predictionScore * 2);
                score = `${goals}-${goals}`;
            }
            
            // Update UI with prediction
            outcomeText.textContent = outcome;
            outcomeText.className = outcomeClass;
            
            // Generate analysis text
            let analysis = `Based on the 2025/26 Premier League season (Matchweek 25), `;
            if (predictionScore > 0.65) {
                analysis += `${homeTeam} (${homeTeamData.position}${getOrdinalSuffix(homeTeamData.position)}, ${homeTeamData.points} pts) are strong favorites against ${awayTeam} (${awayTeamData.position}${getOrdinalSuffix(awayTeamData.position)}, ${awayTeamData.points} pts). `;
                analysis += `Their recent form (${getFormDescription(homeTeamData.recentForm)}) gives them a significant advantage.`;
            } else if (predictionScore < 0.35) {
                analysis += `${awayTeam} (${awayTeamData.position}${getOrdinalSuffix(awayTeamData.position)}, ${awayTeamData.points} pts) are expected to win against ${homeTeam} (${homeTeamData.position}${getOrdinalSuffix(homeTeamData.position)}, ${homeTeamData.points} pts). `;
                analysis += `Their recent form (${getFormDescription(awayTeamData.recentForm)}) suggests they have the upper hand.`;
            } else {
                analysis += `this match between ${homeTeam} (${homeTeamData.position}${getOrdinalSuffix(homeTeamData.position)}, ${homeTeamData.points} pts) and ${awayTeam} (${awayTeamData.position}${getOrdinalSuffix(awayTeamData.position)}, ${awayTeamData.points} pts) is very close. `;
                analysis += `Both teams have similar strength and the match could go either way.`;
            }
            
            analysisText.textContent = analysis;
            
            // Update metrics
            winProbability.textContent = `${confidence}%`;
            recentFormValue.textContent = `${Math.round(formWeight * 100)}%`;
            h2hWeightValue.textContent = `${Math.round(h2hWeight * 100)}%`;
            predictedScore.textContent = score;
            
            // Animate confidence bar
            setTimeout(() => {
                confidenceFill.style.width = `${confidence}%`;
            }, 100);
            
            // Populate H2H table
            h2hTable.innerHTML = "";
            h2hMatches.forEach(match => {
                const row = h2hTable.insertRow();
                const dateCell = row.insertCell(0);
                const matchCell = row.insertCell(1);
                const resultCell = row.insertCell(2);
                const scoreCell = row.insertCell(3);
                
                dateCell.textContent = match.date;
                matchCell.textContent = `${homeTeam} vs ${awayTeam}`;
                scoreCell.textContent = match.score;
                
                // Color code the result
                resultCell.textContent = match.result;
                if (match.result === homeTeam) {
                    resultCell.className = "home-win";
                } else if (match.result === awayTeam) {
                    resultCell.className = "away-win";
                } else {
                    resultCell.className = "draw-match";
                }
            });
            
            // Show prediction result section
            predictionResult.classList.add('show');
            
            // Scroll to results
            predictionResult.scrollIntoView({ behavior: 'smooth' });
        }

        // Helper function to get ordinal suffix
        function getOrdinalSuffix(n) {
            if (n >= 11 && n <= 13) return "th";
            switch (n % 10) {
                case 1: return "st";
                case 2: return "nd";
                case 3: return "rd";
                default: return "th";
            }
        }

        // Helper function to get form description
        function getFormDescription(formArray) {
            const wins = formArray.filter(r => r === 1).length;
            const draws = formArray.filter(r => r === 0.5).length;
            const losses = formArray.filter(r => r === 0).length;
            return `${wins}W ${draws}D ${losses}L in last 5`;
        }

        // Reset form
        function resetForm() {
            homeTeamSelect.value = "";
            awayTeamSelect.value = "";
            predictionResult.classList.remove('show');
            document.getElementById('home-recent-matches').innerHTML = '';
            document.getElementById('away-recent-matches').innerHTML = '';
            confidenceFill.style.width = "0%";
        }

        // Event listeners
        predictBtn.addEventListener('click', predictMatch);
        resetBtn.addEventListener('click', resetForm);
        homeTeamSelect.addEventListener('change', () => updateTeamRecentMatches('home'));
        awayTeamSelect.addEventListener('change', () => updateTeamRecentMatches('away'));

        // Function to display recent 3 matches for selected team
        function updateTeamRecentMatches(team) {
            const selectElement = team === 'home' ? homeTeamSelect : awayTeamSelect;
            const containerElement = team === 'home' ? document.getElementById('home-recent-matches') : document.getElementById('away-recent-matches');
            
            const selectedTeamName = selectElement.value;
            
            if (!selectedTeamName) {
                containerElement.innerHTML = '';
                return;
            }
            
            const teamData = plTeams.find(t => t.name === selectedTeamName);
            
            if (!teamData || !teamData.last5Matches) {
                containerElement.innerHTML = '';
                return;
            }
            
            // Show only last 3 matches
            const last3Matches = teamData.last5Matches.slice(0, 3);
            
            let html = `<h3 style="font-size: 0.95rem; color: #38003c; margin-bottom: 10px;">Last 3 Matches</h3>`;
            
            last3Matches.forEach(match => {
                const resultStatus = getMatchResult(match, selectedTeamName);
                const resultClass = resultStatus === 'W' ? 'win' : resultStatus === 'D' ? 'draw' : 'loss';
                const resultDisplay = resultStatus === 'W' ? 'Win' : resultStatus === 'D' ? 'Draw' : 'Loss';
                
                // Format date as MMM DD
                const dateObj = new Date(match.date);
                const monthAbbr = dateObj.toLocaleString('en-US', { month: 'short' });
                const day = dateObj.getDate();
                
                html += `
                    <div class="match-item">
                        <span class="match-date">${monthAbbr} ${day}</span>
                        <span class="match-opponent">vs ${match.opponent}</span>
                        <span class="match-result ${resultClass}">${resultDisplay} ${match.score}</span>
                    </div>
                `;
            });
            
            containerElement.innerHTML = html;
        }
        
        // Helper function to generate match result status
        function getMatchResult(match, teamName) {
            if (match.result === teamName) return 'W';
            if (match.result === 'D' || match.result === 'Draw') return 'D';
            return 'L';
        }

        // Upcoming fixtures to predict
        const upcomingFixtures = [
            { date: "Tuesday ‚Äî 10 Feb 2026", matches: [
                { home: "Chelsea", away: "Leeds United" },
                { home: "Everton", away: "Bournemouth" },
                { home: "Tottenham", away: "Newcastle" },
                { home: "West Ham", away: "Man United" }
            ]},
            { date: "Wednesday ‚Äî 11 Feb 2026", matches: [
                { home: "Aston Villa", away: "Brighton" },
                { home: "Crystal Palace", away: "Burnley" },
                { home: "Man City", away: "Fulham" },
                { home: "Nottm Forest", away: "Wolves" },
                { home: "Sunderland", away: "Liverpool" }
            ]},
            { date: "Thursday ‚Äî 12 Feb 2026", matches: [
                { home: "Brentford", away: "Arsenal" }
            ]}
        ];

        // Generate predictions for upcoming fixtures
        function generateFixturePredictions() {
            const container = document.getElementById('fixtures-container');
            container.innerHTML = '';

            upcomingFixtures.forEach(day => {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'fixtures-day';

                const dayHeader = document.createElement('div');
                dayHeader.className = 'fixtures-day-header';
                dayHeader.textContent = 'üóìÔ∏è ' + day.date;
                dayDiv.appendChild(dayHeader);

                day.matches.forEach(match => {
                    const homeTeamData = plTeams.find(t => t.name === match.home || t.abbr === match.home);
                    const awayTeamData = plTeams.find(t => t.name === match.away || t.abbr === match.away);

                    if (!homeTeamData || !awayTeamData) return;

                    // Calculate prediction
                    const homeStrength = calculateTeamStrength(homeTeamData);
                    const awayStrength = calculateTeamStrength(awayTeamData);
                    const homeFormScore = calculateFormScore(homeTeamData.recentForm);
                    const awayFormScore = calculateFormScore(awayTeamData.recentForm);

                    const formWeight = 0.4;
                    const strengthWeight = 0.4;
                    const h2hWeight = 0.2;

                    const homeAdvantage = 0.1;
                    const adjustedStrengthDiff = (homeStrength - awayStrength) + homeAdvantage;
                    const adjustedFormDiff = homeFormScore - awayFormScore;

                    const predictionScore = 0.5 +
                        (adjustedStrengthDiff * strengthWeight) +
                        (adjustedFormDiff * formWeight);

                    let outcome, outcomeClass, confidence, score;

                    if (predictionScore > 0.65) {
                        outcome = `${homeTeamData.name} Win`;
                        outcomeClass = "prediction-home-win";
                        confidence = Math.round(predictionScore * 100);
                        const homeGoals = Math.max(1, Math.round(predictionScore * 3));
                        const awayGoals = Math.max(0, Math.round((1 - predictionScore) * 2));
                        score = `${homeGoals}-${awayGoals}`;
                    } else if (predictionScore < 0.35) {
                        outcome = `${awayTeamData.name} Win`;
                        outcomeClass = "prediction-away-win";
                        confidence = Math.round((1 - predictionScore) * 100);
                        const awayGoals = Math.max(1, Math.round((1 - predictionScore) * 3));
                        const homeGoals = Math.max(0, Math.round(predictionScore * 2));
                        score = `${homeGoals}-${awayGoals}`;
                    } else {
                        outcome = "Draw";
                        outcomeClass = "prediction-draw";
                        confidence = 60;
                        const goals = Math.round(predictionScore * 2);
                        score = `${goals}-${goals}`;
                    }

                    const fixtureItem = document.createElement('div');
                    fixtureItem.className = 'fixture-item';
                    fixtureItem.innerHTML = `
                        <div class="fixture-teams">
                            <span class="team-name">${homeTeamData.name}</span>
                            <span class="fixture-vs">vs</span>
                            <span class="team-name">${awayTeamData.name}</span>
                        </div>
                        <div class="fixture-prediction">
                            <span class="prediction-badge ${outcomeClass}">${outcome}</span>
                        </div>
                        <div class="fixture-score">${score}</div>
                    `;

                    dayDiv.appendChild(fixtureItem);
                });

                container.appendChild(dayDiv);
            });
        }

        // Initialize the page
        function initPage() {
            populateTeamDropdowns();
            populateLeagueTable();
            generateFixturePredictions();
        }

        // Initialize when DOM is loaded
        window.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>